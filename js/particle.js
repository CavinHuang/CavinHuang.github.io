function resize(){canvas.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,canvas.width=300}function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);var a=[warea].concat(dots);dots.forEach(function(e){e.x+=e.xa,e.y+=e.ya,e.xa*=e.x>canvas.width||e.x<0?-1:1,e.ya*=e.y>canvas.height||e.y<0?-1:1,ctx.fillRect(e.x-.5,e.y-.5,1,1);for(var n=0;n<a.length;n++){var t=a[n];if(e!==t&&null!==t.x&&null!==t.y){var i,o=e.x-t.x,c=e.y-t.y,x=o*o+c*c;x<t.max&&(t===warea&&x>t.max/2&&(e.x-=.03*o,e.y-=.03*c),i=(t.max-x)/t.max,ctx.beginPath(),ctx.lineWidth=i/2,ctx.strokeStyle="rgba(0,0,0,"+(i+.2)+")",ctx.moveTo(e.x,e.y),ctx.lineTo(t.x,t.y),ctx.stroke())}}a.splice(a.indexOf(e),1)}),RAF(animate)}var canvas=document.getElementById("cas"),ctx=canvas.getContext("2d");resize(),window.onresize=resize;var RAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},warea={x:null,y:null,max:2e4};window.onmousemove=function(a){a=a||window.event,warea.x=a.clientX,warea.y=a.clientY},window.onmouseout=function(a){warea.x=null,warea.y=null};for(var dots=[],i=0;i<60;i++){var x=Math.random()*canvas.width,y=Math.random()*canvas.height,xa=2*Math.random()-1,ya=2*Math.random()-1;dots.push({x:x,y:y,xa:xa,ya:ya,max:6e3})}setTimeout(function(){animate()},100);