$(function(){function t(t){var e=t>n;return n=t,e}function e(t){$(t).velocity("stop").velocity("scroll",{duration:500,easing:"easeInOutQuart"})}function i(t){t.velocity("stop").velocity("transition.fadeIn",{duration:500,easing:"easeInQuart"})}function o(t){var e=$("#content-outer").height(),i=$(window).height(),o=t/(e>i?e-i:$(document).height()-i),a=Math.round(100*o),s=a>100?100:a;$(".progress-num").text(s),$(".sidebar-toc__progress-bar").velocity("stop").velocity({width:s+"%"},{duration:100,easing:"easeInOutQuart"})}function a(t){window.history.replaceState&&t!==window.location.hash&&window.history.replaceState(void 0,void 0,t)}function s(t){if(0!==$(".toc-link").length){t<200&&($(".toc-link").removeClass("active"),$(".toc-child").hide());var e="";$("h1,h2,h3,h4,h5,h6").each(function(){var i=$(this);t>i.offset().top-25&&(e="#"+$(this).attr("id"))});var o=$(".toc-link.active");if(e&&o.attr("href")!==e){a(e),$(".toc-link").removeClass("active");var s=$('.toc-link[href="'+e+'"]');s.addClass("active");var n=s.parents(".toc-child");if(n.length>0){var c;(c=n.length>1?n.eq(n.length-1).find(".toc-child"):n).length>0&&c.is(":hidden")&&i(c),n.eq(n.length-1).closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}else s.closest(".toc-item").find(".toc-child").is(":hidden")&&i(s.closest(".toc-item").find(".toc-child")),s.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}}}var n=0;$(".toc-child").hide(),$(window).scroll(throttle(function(e){var i=$(this).scrollTop();isMobile()||(o(i),s(i));var a=t(i);i>56?(a?$("#page-header").hasClass("visible")?$("#page-header").removeClass("visible"):console.log():$("#page-header").hasClass("visible")?console.log():$("#page-header").addClass("visible"),$("#page-header").addClass("fixed"),"0"===$("#go-up").css("opacity")&&$("#go-up").velocity("stop").velocity({translateX:-30,rotateZ:360,opacity:1},{easing:"easeOutQuart",duration:200})):(0===i&&$("#page-header").removeClass("fixed").removeClass("visible"),$("#go-up").velocity("stop").velocity({translateX:0,rotateZ:180,opacity:0},{easing:"linear",duration:200}))},50,100)),$("#go-up").on("click",function(){$("body").velocity("stop").velocity("scroll",{duration:500,easing:"easeOutQuart"})}),$("h1,h2,h3,h4,h5,h6").on("click",function(t){e("#"+$(this).attr("id"))}),$(".toc-link").on("click",function(t){t.preventDefault(),e($(this).attr("href"))})});