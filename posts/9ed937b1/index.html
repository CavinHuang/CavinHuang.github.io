<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="baidu-site-verification" content="rqskM4bdtP"><meta name="viewport" content="device-width, initial-scale=1, maximum-scale=1,user-scalable=no"><title>vue移动端开发遇到的那些坑-CavinHuangのBlog-http://blog.zukmb.cn</title><meta name="keywords" content="前端学习,php学习,个人博客,HTML,CSS,JS"><meta name="description" content="cavinHuang个人博客，这里记录学习和生活的点滴！"><meta name="google-site-verification" content="zOYxWUgmeogC0qY76WLP0eWl8r9E8jk_qU927Ij7tbs"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5a4c3745fa28006f"></script><link rel="stylesheet" href="/css/yoyo.css"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.3"><script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script><script src="https://cdn.bootcss.com/velocity/1.5.0/velocity.min.js"></script><meta name="generator" content="Hexo 5.3.0"><link rel="stylesheet" href="/css/prism-base16-ateliersulphurpool.light.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body></body></html><div class="app"><div class="left-container"><div class="left-layout-container pc"><div class="user-info"><a href="/"><img src="https://avatars1.githubusercontent.com/u/24950299?s=460&amp;v=4"></a><div class="login-name">CavinHuang</div><div class="slog">来不及总结自己,愿天大地大,我独一无二!</div></div><ul class="other-site"><li><img src="http://www.17sucai.com/preview/177065/2017-09-28/Mon9/static/img/github.png"></li><li><img src="http://www.17sucai.com/preview/177065/2017-09-28/Mon9/static/img/weibo.png"></li></ul><ul class="left-menu"><li><a href="/archives">文章</a></li><li><a href="/categories">分类</a></li><li><a href="/tags">标签</a></li><li><a href="/about">关于</a></li></ul><div class="qq-group"><span>读万卷书</span><span>行万里路</span></div><div class="copyright">@ 2017 - 2017 CavinHuang</div></div></div><div id="app-aside"><aside class="aside"><div class="aside-user"><div class="avatar"><img src="https://avatars1.githubusercontent.com/u/24950299?s=460&amp;v=4" alt="CavinHuang"></div><div class="profile"><h3 class="name">CavinHuang</h3><p class="email">来不及总结自己,愿天大地大,我独一无二!</p></div></div><div class="aside-nav"><nav class="nav-list"><a class="item" href="/archives"><span>文章</span></a><a class="item" href="/categories"><span>分类</span></a><a class="item" href="/tags"><span>标签</span></a><a class="item" href="/about"><span>关于</span></a></nav></div></aside></div><div class="blog-container main-container" id="content-outer"><nav class="navbar"><div class="navbar-container"><div class="navbar-header"><a class="navbar-menu" id="navMenu" href="javascript:;" data-isOpen="false"><i class="iconfont icon-menu"></i></a><a class="navbar-logo" href="/"><img src="/assets/img/logo.png"></a><a class="navbar-search" href=""></a></div></div></nav><div class="blog-list-container" id="content-inner"><article class="article-container" id="post"><div class="article-header"><h1 class="article-title">vue移动端开发遇到的那些坑</h1><div class="article-subtitle"><div class="publish-time fl">发布时间:<span>2017/11/1 19:33:46</span></div><div class="categories">分类:<a href="/categories/frontend/"><span>frontend</span></a>/<a href="/categories/frontend/problem/"><span>问题总结</span></a>/<a href="/categories/frontend/problem/vue/"><span>vue</span></a></div></div></div><div class="article-word-count"><ul><div class="word-count-item">全文约<span class="post-count">1.6k</span>字</div><div class="word-count-item">预计需要<span class="post-count">6</span>分钟</div></ul></div><div class="article-content"><h3 id="1-IOS移动端-原始输入法问题"><a href="#1-IOS移动端-原始输入法问题" class="headerlink" title="1. IOS移动端 原始输入法问题"></a>1. IOS移动端 原始输入法问题</h3><p>IOS原始输入法，中文输入时，无法触发keyup事件，而keyup时对应的enter事件也无法触发</p><a id="more"></a><p>解决方案：</p><ol><li>将keyup监听替换成值的watch</li><li>让使用者安装三方输入法，比如搜狗输入法（不太现实）</li></ol><h3 id="2-IOS移动端click事件300ms的延迟响应"><a href="#2-IOS移动端click事件300ms的延迟响应" class="headerlink" title="2. IOS移动端click事件300ms的延迟响应"></a>2. IOS移动端click事件300ms的延迟响应</h3><p>移动设备上的web网页是有300ms延迟的，玩玩会造成按钮点击延迟甚至是点击失效。这是由于区分单击事件和双击屏幕缩放的历史原因造成的,</p><p>2007年苹果发布首款iphone上IOS系统搭载的safari为了将适用于PC端上大屏幕的网页能比较好的展示在手机端上，使用了双击缩放(double tap to zoom)的方案，比如你在手机上用浏览器打开一个PC上的网页，你可能在看到页面内容虽然可以撑满整个屏幕，但是字体、图片都很小看不清，此时可以快速双击屏幕上的某一部分，你就能看清该部分放大后的内容，再次双击后能回到原始状态。<br>双击缩放是指用手指在屏幕上快速点击两次，iOS 自带的 Safari 浏览器会将网页缩放至原始比例。</p><p>原因就出在浏览器需要如何判断快速点击上，当用户在屏幕上单击某一个元素时候，例如跳转链接，此处浏览器会先捕获该次单击，但浏览器不能决定用户是单纯要点击链接还是要双击该部分区域进行缩放操作，所以，捕获第一次单击后，浏览器会先Hold一段时间t，如果在t时间区间里用户未进行下一次点击，则浏览器会做单击跳转链接的处理，如果t时间里用户进行了第二次单击操作，则浏览器会禁止跳转，转而进行对该部分区域页面的缩放操作。那么这个时间区间t有多少呢？在IOS safari下，大概为300毫秒。这就是延迟的由来。造成的后果用户纯粹单击页面，页面需要过一段时间才响应，给用户慢体验感觉，对于web开发者来说是，页面js捕获click事件的回调函数处理，需要300ms后才生效，也就间接导致影响其他业务逻辑的处理。</p><p>解决方案：</p><ul><li>fastclick可以解决在手机上点击事件的300ms延迟</li><li>zepto的touch模块，tap事件也是为了解决在click的延迟问题</li><li>触摸事件的响应顺序为 touchstart –&gt; touchmove –&gt; touchend –&gt; click,也可以通过绑定ontouchstart事件，加快对事件的响应，解决300ms延迟问题</li></ul><h3 id="3-一些情况下对非可点击元素如-label-span-监听click事件，ios下不会触发，css增加cursor-pointer就搞定了。"><a href="#3-一些情况下对非可点击元素如-label-span-监听click事件，ios下不会触发，css增加cursor-pointer就搞定了。" class="headerlink" title="3. 一些情况下对非可点击元素如(label,span)监听click事件，ios下不会触发，css增加cursor:pointer就搞定了。"></a>3. 一些情况下对非可点击元素如(label,span)监听click事件，ios下不会触发，css增加cursor:pointer就搞定了。</h3><h3 id="4-移动端input元素聚焦问题"><a href="#4-移动端input元素聚焦问题" class="headerlink" title="4. 移动端input元素聚焦问题"></a>4. 移动端input元素聚焦问题</h3><p>问题出现场景重现： 项目需要写一个搜索组件，相关代码如下</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>y-search<span class="token punctuation">"</span></span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value">styles</span><span class="token punctuation">"</span></span> <span class="token attr-name">:clear</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>clear<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return false;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>y-search-input<span class="token punctuation">"</span></span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>model<span class="token punctuation">'</span></span>
        <span class="token attr-name">:placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>placeholder<span class="token punctuation">"</span></span>
        <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>searchKeyupFn<span class="token punctuation">"</span></span>
        <span class="token attr-name">@keyup.enter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>searchEnterFn<span class="token punctuation">"</span></span>
        <span class="token attr-name">@foucs</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>searchFocusFn<span class="token punctuation">"</span></span>
        <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>searchBlurFn<span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>y-icons</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search-icon<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>14<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>y-icons</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>showClose<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>closeFn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>y-icons</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>close-icon<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>close<span class="token punctuation">'</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>12<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>y-icons</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当我进行keyup事件的时候，其对应的enter事件，不能实现失焦功能。而实际项目中需要实现失焦，那么只能通过操作$el节点了。</p><p>解决方案：在对应的enter事件时进行DOM操作</p><pre class="line-numbers language-javascript"><code class="language-javascript">searchEnterFn <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'y-search-input'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment" spellcheck="true">// dosomething yourself</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-fixed定位缺陷"><a href="#5-fixed定位缺陷" class="headerlink" title="5. fixed定位缺陷"></a>5. fixed定位缺陷</h3><p>ios下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位<br>android下fixed表现要比iOS更好，软键盘弹出时，不会影响fixed元素定位<br>ios4下不支持position:fixed<br>解决方案： 可用iScroll插件解决这个问题</p><h3 id="6-阻止旋转屏幕时自动调整字体大小"><a href="#6-阻止旋转屏幕时自动调整字体大小" class="headerlink" title="6. 阻止旋转屏幕时自动调整字体大小"></a>6. 阻止旋转屏幕时自动调整字体大小</h3><pre class="line-numbers language-css"><code class="language-css">* &amp;<span class="token hexcode">#123</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-text-size-adjust</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
&amp;<span class="token hexcode">#125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="7-calc的兼容处理"><a href="#7-calc的兼容处理" class="headerlink" title="7. calc的兼容处理"></a>7. calc的兼容处理</h3><p>CSS3中的calc变量在iOS6浏览器中必须加-webkit-前缀，目前的FF浏览器已经无需-moz-前缀。<br>Android浏览器目前仍然不支持calc，所以要在之前增加一个保守尺寸：</p><pre class="line-numbers language-css"><code class="language-css">div &amp;<span class="token hexcode">#123</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">95%</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">-webkit-calc</span><span class="token punctuation">(</span><span class="token number">100%</span> - <span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100%</span> - <span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>
&amp;<span class="token hexcode">#125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="8-在移动端修改难看的点击的高亮效果，iOS和安卓下都有效"><a href="#8-在移动端修改难看的点击的高亮效果，iOS和安卓下都有效" class="headerlink" title="8. 在移动端修改难看的点击的高亮效果，iOS和安卓下都有效"></a>8. 在移动端修改难看的点击的高亮效果，iOS和安卓下都有效</h3><pre class="line-numbers language-css"><code class="language-css">* &amp;<span class="token hexcode">#123</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
&amp;<span class="token hexcode">#125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>不过这个方法在现在的安卓浏览器下，只能去掉那个橙色的背景色，点击产生的高亮边框还是没有去掉，有待解决！</p><p>一个CSS3的属性，加上后，所关联的元素的事件监听都会失效，等于让元素变得“看得见，点不着”。IE到11才开始支持，其他浏览器的当前版本基本都支持。详细介绍见这里：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events">https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events</a></p><pre class="line-numbers language-css"><code class="language-css"><span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="9-IOS下取消input在输入的时候英文首字母的默认大写"><a href="#9-IOS下取消input在输入的时候英文首字母的默认大写" class="headerlink" title="9. IOS下取消input在输入的时候英文首字母的默认大写"></a>9. IOS下取消input在输入的时候英文首字母的默认大写</h3><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">autocapitalize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="10-禁止-IOS-弹出各种操作窗口"><a href="#10-禁止-IOS-弹出各种操作窗口" class="headerlink" title="10. 禁止 IOS 弹出各种操作窗口"></a>10. 禁止 IOS 弹出各种操作窗口</h3><pre class="line-numbers language-css"><code class="language-css"><span class="token property">-webkit-touch-callout</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="11-消除transition闪屏问题"><a href="#11-消除transition闪屏问题" class="headerlink" title="11. 消除transition闪屏问题"></a>11. 消除transition闪屏问题</h3><pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/*设置内嵌的元素在 3D 空间如何呈现：保留 3D*/</span>
<span class="token property">-webkit-transform-style</span><span class="token punctuation">:</span> preserve-<span class="token number">3</span>d<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*(设置进行转换的元素的背面在面对用户时是否可见：隐藏)*/</span>
<span class="token property">-webkit-backface-visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="12-IOS系统中文输入法输入英文时，字母之间可能会出现一个六分之一的空格"><a href="#12-IOS系统中文输入法输入英文时，字母之间可能会出现一个六分之一的空格" class="headerlink" title="12. IOS系统中文输入法输入英文时，字母之间可能会出现一个六分之一的空格"></a>12. IOS系统中文输入法输入英文时，字母之间可能会出现一个六分之一的空格</h3><p>解决方案：通过正则去除</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\u2006/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="13-禁止IOS和Android用户选中文字"><a href="#13-禁止IOS和Android用户选中文字" class="headerlink" title="13. 禁止IOS和Android用户选中文字"></a>13. 禁止IOS和Android用户选中文字</h3><pre class="line-numbers language-css"><code class="language-css"><span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="14-CSS动画页面闪白-动画卡顿"><a href="#14-CSS动画页面闪白-动画卡顿" class="headerlink" title="14. CSS动画页面闪白,动画卡顿"></a>14. CSS动画页面闪白,动画卡顿</h3><p>解决方法:<br>1.尽可能地使用合成属性transform和opacity来设计CSS3动画，不使用position的left和top来定位<br>2.开启硬件加速</p><pre class="line-numbers language-css"><code class="language-css"><span class="token property">-webkit-transform</span><span class="token punctuation">:</span> translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token property">-moz-transform</span><span class="token punctuation">:</span> translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">-ms-transform</span><span class="token punctuation">:</span> translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="15-input的placeholder会出现文本位置偏上的情况"><a href="#15-input的placeholder会出现文本位置偏上的情况" class="headerlink" title="15.  input的placeholder会出现文本位置偏上的情况"></a>15. input的placeholder会出现文本位置偏上的情况</h3><p>input 的placeholder会出现文本位置偏上的情况：PC端设置line-height等于height能够对齐，而移动端仍然是偏上，解决是设置line-height：normal</p><h3 id="16-往返缓存问题"><a href="#16-往返缓存问题" class="headerlink" title="16. 往返缓存问题"></a>16. 往返缓存问题</h3><p>点击浏览器的回退，有时候不会自动执行js，特别是在mobilesafari中。这与往返缓存(bfcache)有关系。<br>解决方法 ：</p><pre class="line-numbers language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span>onunload <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><div id="side-right-bar"><div class="close-right-bar"></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-IOS%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%8E%9F%E5%A7%8B%E8%BE%93%E5%85%A5%E6%B3%95%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">1. IOS移动端 原始输入法问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-IOS%E7%A7%BB%E5%8A%A8%E7%AB%AFclick%E4%BA%8B%E4%BB%B6300ms%E7%9A%84%E5%BB%B6%E8%BF%9F%E5%93%8D%E5%BA%94"><span class="toc-number">2.</span> <span class="toc-text">2. IOS移动端click事件300ms的延迟响应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%B8%80%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E5%AF%B9%E9%9D%9E%E5%8F%AF%E7%82%B9%E5%87%BB%E5%85%83%E7%B4%A0%E5%A6%82-label-span-%E7%9B%91%E5%90%ACclick%E4%BA%8B%E4%BB%B6%EF%BC%8Cios%E4%B8%8B%E4%B8%8D%E4%BC%9A%E8%A7%A6%E5%8F%91%EF%BC%8Ccss%E5%A2%9E%E5%8A%A0cursor-pointer%E5%B0%B1%E6%90%9E%E5%AE%9A%E4%BA%86%E3%80%82"><span class="toc-number">3.</span> <span class="toc-text">3. 一些情况下对非可点击元素如(label,span)监听click事件，ios下不会触发，css增加cursor:pointer就搞定了。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%A7%BB%E5%8A%A8%E7%AB%AFinput%E5%85%83%E7%B4%A0%E8%81%9A%E7%84%A6%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">4. 移动端input元素聚焦问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-fixed%E5%AE%9A%E4%BD%8D%E7%BC%BA%E9%99%B7"><span class="toc-number">5.</span> <span class="toc-text">5. fixed定位缺陷</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%98%BB%E6%AD%A2%E6%97%8B%E8%BD%AC%E5%B1%8F%E5%B9%95%E6%97%B6%E8%87%AA%E5%8A%A8%E8%B0%83%E6%95%B4%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F"><span class="toc-number">6.</span> <span class="toc-text">6. 阻止旋转屏幕时自动调整字体大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-calc%E7%9A%84%E5%85%BC%E5%AE%B9%E5%A4%84%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text">7. calc的兼容处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%9C%A8%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%BF%AE%E6%94%B9%E9%9A%BE%E7%9C%8B%E7%9A%84%E7%82%B9%E5%87%BB%E7%9A%84%E9%AB%98%E4%BA%AE%E6%95%88%E6%9E%9C%EF%BC%8CiOS%E5%92%8C%E5%AE%89%E5%8D%93%E4%B8%8B%E9%83%BD%E6%9C%89%E6%95%88"><span class="toc-number">8.</span> <span class="toc-text">8. 在移动端修改难看的点击的高亮效果，iOS和安卓下都有效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-IOS%E4%B8%8B%E5%8F%96%E6%B6%88input%E5%9C%A8%E8%BE%93%E5%85%A5%E7%9A%84%E6%97%B6%E5%80%99%E8%8B%B1%E6%96%87%E9%A6%96%E5%AD%97%E6%AF%8D%E7%9A%84%E9%BB%98%E8%AE%A4%E5%A4%A7%E5%86%99"><span class="toc-number">9.</span> <span class="toc-text">9. IOS下取消input在输入的时候英文首字母的默认大写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E7%A6%81%E6%AD%A2-IOS-%E5%BC%B9%E5%87%BA%E5%90%84%E7%A7%8D%E6%93%8D%E4%BD%9C%E7%AA%97%E5%8F%A3"><span class="toc-number">10.</span> <span class="toc-text">10. 禁止 IOS 弹出各种操作窗口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E6%B6%88%E9%99%A4transition%E9%97%AA%E5%B1%8F%E9%97%AE%E9%A2%98"><span class="toc-number">11.</span> <span class="toc-text">11. 消除transition闪屏问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-IOS%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95%E8%BE%93%E5%85%A5%E8%8B%B1%E6%96%87%E6%97%B6%EF%BC%8C%E5%AD%97%E6%AF%8D%E4%B9%8B%E9%97%B4%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%87%BA%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%AD%E5%88%86%E4%B9%8B%E4%B8%80%E7%9A%84%E7%A9%BA%E6%A0%BC"><span class="toc-number">12.</span> <span class="toc-text">12. IOS系统中文输入法输入英文时，字母之间可能会出现一个六分之一的空格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E7%A6%81%E6%AD%A2IOS%E5%92%8CAndroid%E7%94%A8%E6%88%B7%E9%80%89%E4%B8%AD%E6%96%87%E5%AD%97"><span class="toc-number">13.</span> <span class="toc-text">13. 禁止IOS和Android用户选中文字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-CSS%E5%8A%A8%E7%94%BB%E9%A1%B5%E9%9D%A2%E9%97%AA%E7%99%BD-%E5%8A%A8%E7%94%BB%E5%8D%A1%E9%A1%BF"><span class="toc-number">14.</span> <span class="toc-text">14. CSS动画页面闪白,动画卡顿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-input%E7%9A%84placeholder%E4%BC%9A%E5%87%BA%E7%8E%B0%E6%96%87%E6%9C%AC%E4%BD%8D%E7%BD%AE%E5%81%8F%E4%B8%8A%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">15.</span> <span class="toc-text">15. input的placeholder会出现文本位置偏上的情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E5%BE%80%E8%BF%94%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98"><span class="toc-number">16.</span> <span class="toc-text">16. 往返缓存问题</span></a></li></ol></div></div></div><div class="right-btn" id="right-btn"><span>目录</span></div><div class="article-bottom"><div class="addthis_inline_share_toolbox fr"></div></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span><span class="post-copyright-info"><a href="mailto:undefined">CavinHuang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="http://blog.zukmb.cnposts/9ed937b1/">http://blog.zukmb.cn/posts/9ed937b1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span><span class="post-copyright-info">转载请注明来自<a href="http://blog.zukmb.cn" target="_blank" style="font-size: 18px;">CavinHuangのBlog</a>！</span></div></div><div class="article-pagenate"><div class="article-prev fl"><span>←</span><a href="/posts/efb217c0/">在Javascript中学习数据结构与算法小记</a></div><div class="article-next fr"><a href="/posts/b6e49358/">记录一次win10+deepin双系统安装过程</a><span>→</span></div></div></article></div><footer class="footer"><div id="toTop" style="display: none;">Back to Top</div><div class="footer-content"><p>©2015 - 2018 By cavinHuang</p><div class="framework-info"><span>Driven -</span> <a target="_blank" rel="noopener" href="https://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme -</span> <a href=""><span>yoyo</span></a></div><div class="site-count"><ul><div class="site-count-item"><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></div><div class="site-count-item"><span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人次</span></div></ul></div></div></footer><script>(function(){
var bp = document.createElement('script');
var curProtocol = window.location.protocol.split(':')[0];
if (curProtocol === 'https') {
bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
}
else {
bp.src = 'http://push.zhanzhang.baidu.com/push.js';
}
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(bp, s);
})();
</script><script>(function(){
var src = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?e055b4dda1d8e03e86cb32d91596a2c5":"https://jspassport.ssl.qhimg.com/11.0.1.js?e055b4dda1d8e03e86cb32d91596a2c5";
document.write('<script src="' + src + '" id="sozz"><\\/script>');
})();
</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-124916034-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-124916034-1');</script></div></div><canvas class="fireworks"></canvas><script src="/js/velocity.ui.min.js"></script><script src="/js/yoyo.js"></script><script src="/js/scroll.js"></script><script src="/js/anime.min.js"></script><script src="/js/fireworks.js"></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>